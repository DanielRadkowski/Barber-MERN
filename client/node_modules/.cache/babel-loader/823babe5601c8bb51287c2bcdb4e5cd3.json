{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Development\\\\Barber Andrew\\\\Barber 2.0\\\\barber-andrew\\\\client\\\\src\\\\components\\\\BookWindow\\\\Calendar.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Jumbotron } from 'react-bootstrap';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport * as dateFns from 'date-fns';\nimport Hours from './Hours';\nimport CalendarHeader from './CalendarHeader';\nimport CalendarWeekDays from './CalendarWeekDays';\nimport CalendarCells from './CalendarCells';\nimport moustache from '../../pictures/moustache-calendar.png';\nimport Thanks from './Thanks';\nconst Styles = styled.div`\n\n\n`;\nexport default function Calendar() {\n  const [state, setState] = useState({\n    currentMonth: new Date(),\n    selectedDate: new Date(),\n    currentDate: new Date(),\n    clients: [],\n    done: false\n  });\n  useEffect(() => {\n    axios.get('http://localhost:5000/barber/').then(response => {\n      setState({\n        currentMonth: state.currentMonth,\n        selectedDate: state.selectedDate,\n        currentDate: state.currentDate,\n        clients: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  let nextMonth = () => {\n    setState({\n      currentMonth: dateFns.addMonths(state.currentMonth, 1),\n      selectedDate: state.selectedDate,\n      currentDate: state.currentDate,\n      clients: state.clients\n    });\n  };\n\n  let prevMonth = () => {\n    if (dateFns.differenceInCalendarMonths(state.currentDate, state.currentMonth) < 0) {\n      setState({\n        currentMonth: dateFns.subMonths(state.currentMonth, 1),\n        selectedDate: state.selectedDate,\n        currentDate: state.currentDate,\n        clients: state.clients\n      });\n    }\n  };\n\n  let onDateClick = day => {\n    let set = () => {\n      setState({\n        currentMonth: state.currentMonth,\n        selectedDate: day,\n        currentDate: state.currentDate,\n        clients: state.clients\n      });\n    };\n\n    if (dateFns.isSameDay(day, state.currentDate) | dateFns.isAfter(day, state.currentDate)) {\n      set();\n\n      if (dateFns.differenceInCalendarMonths(state.currentMonth, state.selectedDate) > 0) {\n        nextMonth();\n        set();\n      } else if (dateFns.differenceInCalendarMonths(state.currentMonth, state.selectedDate) < 0) {\n        prevMonth();\n        set();\n      }\n\n      console.log(dateFns.differenceInCalendarMonths(state.currentMonth, state.selectedDate));\n      console.log(state.currentMonth, state.selectedDate);\n    }\n  };\n\n  let thanksScreen = () => {\n    setState({\n      currentMonth: state.currentMonth,\n      selectedDate: state.selectedDate,\n      currentDate: state.currentDate,\n      clients: state.clients,\n      done: true\n    });\n  };\n\n  return React.createElement(Styles, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Jumbotron, {\n    className: `${state.done ? \"d-none\" : \"\"} pt-2 pt-md-4 pb-3 bg-white rounded text-center`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: moustache,\n    alt: \"moustache\",\n    className: \"mw-100 pb-0 pb-md-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(CalendarHeader, {\n    prevMonth: prevMonth,\n    nextMonth: nextMonth,\n    actualMonth: state.currentMonth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(CalendarWeekDays, {\n    actualMonth: state.currentMonth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(CalendarCells, {\n    state: state,\n    onDateClick: onDateClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  })), React.createElement(Hours, {\n    state: state,\n    done: thanksScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(Thanks, {\n    ready: state.done,\n    className: `${state.done ? \"d-flex\" : \"d-none\"} `,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["D:/Web Development/Barber Andrew/Barber 2.0/barber-andrew/client/src/components/BookWindow/Calendar.jsx"],"names":["React","useState","useEffect","Jumbotron","axios","styled","dateFns","Hours","CalendarHeader","CalendarWeekDays","CalendarCells","moustache","Thanks","Styles","div","Calendar","state","setState","currentMonth","Date","selectedDate","currentDate","clients","done","get","then","response","data","catch","error","console","log","nextMonth","addMonths","prevMonth","differenceInCalendarMonths","subMonths","onDateClick","day","set","isSameDay","isAfter","thanksScreen"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Jumbotron } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\nimport * as dateFns from 'date-fns';\r\nimport Hours from './Hours';\r\nimport CalendarHeader from './CalendarHeader';\r\nimport CalendarWeekDays from './CalendarWeekDays';\r\nimport CalendarCells from './CalendarCells';\r\nimport moustache from '../../pictures/moustache-calendar.png';\r\nimport Thanks from './Thanks';\r\n\r\nconst Styles = styled.div`\r\n\r\n\r\n`\r\n\r\nexport default function Calendar() {\r\n\r\n    const [state, setState] = useState({\r\n        currentMonth: new Date(),\r\n        selectedDate: new Date(),\r\n        currentDate: new Date(),\r\n        clients: [],\r\n        done: false\r\n    });\r\n\r\n    useEffect(() => {\r\n        axios.get('http://localhost:5000/barber/')\r\n            .then(response => {\r\n                setState({\r\n                    currentMonth: state.currentMonth,\r\n                    selectedDate: state.selectedDate,\r\n                    currentDate: state.currentDate,\r\n                    clients: response.data\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n    }, []);\r\n\r\n    let nextMonth = () => {\r\n        setState({\r\n            currentMonth: dateFns.addMonths(state.currentMonth, 1),\r\n            selectedDate: state.selectedDate,\r\n            currentDate: state.currentDate,\r\n            clients: state.clients\r\n        });\r\n    }\r\n\r\n    let prevMonth = () => {\r\n        if (dateFns.differenceInCalendarMonths(state.currentDate, state.currentMonth) < 0) {\r\n            setState({\r\n                currentMonth: dateFns.subMonths(state.currentMonth, 1),\r\n                selectedDate: state.selectedDate,\r\n                currentDate: state.currentDate,\r\n                clients: state.clients\r\n            });\r\n        }\r\n    }\r\n\r\n    let onDateClick = day => {\r\n\r\n        let set = () => {\r\n            setState({\r\n                currentMonth: state.currentMonth,\r\n                selectedDate: day,\r\n                currentDate: state.currentDate,\r\n                clients: state.clients\r\n            });\r\n        }\r\n        if (dateFns.isSameDay(day, state.currentDate) | dateFns.isAfter(day, state.currentDate)) {\r\n            set();\r\n            if (dateFns.differenceInCalendarMonths(state.currentMonth, state.selectedDate) > 0) {\r\n                nextMonth();\r\n                set();\r\n            } else if (dateFns.differenceInCalendarMonths(state.currentMonth, state.selectedDate) < 0) {\r\n                prevMonth();\r\n                set();\r\n            } \r\n            \r\n            console.log(dateFns.differenceInCalendarMonths(state.currentMonth, state.selectedDate));\r\n            console.log(state.currentMonth, state.selectedDate);\r\n            \r\n            \r\n          \r\n        }\r\n     \r\n    }\r\n\r\n    let thanksScreen = () => {\r\n        setState({\r\n            currentMonth: state.currentMonth,\r\n            selectedDate: state.selectedDate,\r\n            currentDate: state.currentDate,\r\n            clients: state.clients,\r\n            done: true\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Styles>\r\n            <Jumbotron className={`${state.done ? \"d-none\" : \"\" } pt-2 pt-md-4 pb-3 bg-white rounded text-center`}>\r\n            <img src={moustache} alt=\"moustache\" className=\"mw-100 pb-0 pb-md-4\"></img>\r\n                <CalendarHeader\r\n                    prevMonth={prevMonth}\r\n                    nextMonth={nextMonth}\r\n                    actualMonth={state.currentMonth}\r\n                />    \r\n                <CalendarWeekDays\r\n                    actualMonth={state.currentMonth}\r\n                />\r\n                <CalendarCells\r\n                    state={state}\r\n                    onDateClick={onDateClick}\r\n                />\r\n            </Jumbotron>\r\n            <Hours\r\n                state={state}\r\n                done={thanksScreen}\r\n            />\r\n             <Thanks ready={state.done} className={`${state.done ? \"d-flex\" : \"d-none\" } `} />\r\n        </Styles>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}